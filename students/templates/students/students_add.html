{% extends "students/base.html" %}

{% load static from staticfiles %}

{% block meta_title %}Додати Студента{% endblock meta_title %}

{% block status_message %}
  {% if errors %}
    <div class="alert alert-danger" role="alert">
         Будь-ласка, виправте наступні помилки</div>
  {% endif %}
{% endblock status_message %}

{% block title %}Додати Студента{% endblock title %}

{% block content %}
       
<!-- FORM -->

<form class="form-horizontal" action="{% url "students_add" %}" method="post" 
      enctype="multipart/form-data" role="form">
  {% csrf_token %}
  
  <!-- First Name -->
  <div class="form-group {% if errors.first_name %}has-error{% endif %}">
    <label for="first_name" class="col-sm-2 control-label">
      Ім’я*</label>
    <div class="col-sm-10">
      <input type="text" class="form-control" id="first_name" 
             value="{{ request.POST.first_name }}" placeholder="Введіть ваше ім'я" name="first_name" aria-describedby="helpFirstName" />
      <span class="help-block" id="helpFirstName">{{ errors.first_name }}</span>
    </div>
  </div>
  
  <!-- Last Name -->
  <div class="form-group {% if errors.last_name %}has-error{% endif %}">
    <label for="last_name" class="col-sm-2 control-label">
      Прізвище*</label>
    <div class="col-sm-10">
      <input type="text" class="form-control" id="last_name" 
             value="{{ request.POST.last_name }}" placeholder="Введіть ваше прізвище" name="last_name" aria-describedby="helpLastName" />
      <span class="help-block" id="helpLastName">{{ errors.last_name }}</span>
    </div>
  </div>
  
  <!-- Middle Name -->
  <div class="form-group">
    <label for="middle_name" class="col-sm-2 control-label">
      По-батькові</label>
    <div class="col-sm-10">
      <input type="text" class="form-control" id="middle_name" 
             value="{{ request.POST.middle_name }}" placeholder="Введіть ваше ім'я по-батькові" name="middle_name" />
    </div>
  </div>
  
  <!-- Birthday data -->
  <div class="form-group {% if errors.birthday %}has-error{% endif %}">
    <label for="birthday" class="col-sm-2 control-label">
      Дата народження*</label>
    <div class="col-sm-10">
      <input type="date" class="form-control" id="birthday" 
             placeholder="напр. 1984-06-17" name="birthday"
             value="{{ request.POST.birthday }}" aria-describedby="helpBirthday" />
      <span class="help-block" id="helpBirthday">{{ errors.birthday }}</span>
    </div>
  </div>
  
   <!-- Photo -->
  <div class="form-group {% if errors.photo %}has-error{% endif %}">
    <label for="photo" class="col-sm-2 control-label">
      Фото</label>
    <div class="col-sm-10">
      <input type="file" id="photo" name="photo"
             aria-describedby="helpPhoto" value="" /></p>
      <span class="help-block" id="helpPhoto">{{ errors.photo }}</span>
    </div>
  </div>
  
  <!-- Ticket Number -->
  <div class="form-group {% if errors.ticket %}has-error{% endif %}">
    <label for="ticket" class="col-sm-2 control-label">
      № Білету*</label>
    <div class="col-sm-10">
      <input type="text" class="form-control" id="ticket" 
             placeholder="254" name="ticket" aria-describedby="helpTicket"
             value="{{ request.POST.ticket }}" />
      <span class="help-block" id="helpTicket">{{ errors.ticket }}</span>
    </div>
  </div>
  
  <!-- Selector of Group -->
  <div class="form-group {% if errors.student_group %}has-error{% endif %}">
    <label for="student_group" class="col-sm-2 control-label">
      Група*</label>
    <div class="col-sm-10">
      <select id="student_group" name="student_group" class="form-control"
              aria-describedby="helpStudentGroup">
        <option value="">Виберіть групу</option>
        {% for group in groups_all %}
        <option value="{{ group.id }}"
                {% if group.id == request.POST.student_group|add:0 %}selected{% endif %}
                >{{ group.title }}</option>
        {% endfor %}
      </select>
      <span class="help-block" id="helpStudentGroup">{{ errors.student_group }}</span>
    </div>
  </div>
  
  <!-- Addition Notes -->
  <div class="form-group">
    <label for="notes" class="col-sm-2 control-label">
      Додаткові Нотатки</label>
    <div class="col-sm-10">
      <textarea id="notes" name="notes" placeholder="Введіть додаткову інформацію"
                class="form-control">{% if request.POST.notes %}{{ request.POST.notes }}{% endif %}</textarea>
    </div>
  </div>
  
  
  <!-- Buttons -->
  <div class="form-group controls">
    <div class="col-sm-offset-2 col-sm-10">
      <input type="submit" class="btn btn-primary" value="Додати"
             name="add_button" />
      <button type="submit" class="btn btn-link" href="#" 
             name="cancel_button" />Скасувати</button>
    </div>
  </div>
</form>

<!-- End FORM -->
        
{% endblock content %}
